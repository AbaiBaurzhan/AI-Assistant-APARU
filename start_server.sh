#!/bin/bash

# ะกะบัะธะฟั ะดะปั ะทะฐะฟััะบะฐ ัะตัะฒะตัะฐ FAQ-ะฐััะธััะตะฝัะฐ

echo "๐ ะะฐะฟััะบ ัะตัะฒะตัะฐ FAQ-ะฐััะธััะตะฝัะฐ..."

# ะะตัะตัะพะดะธะผ ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd "/Users/abaibaurzhan/Desktop/ML Generation"

# ะะบัะธะฒะธััะตะผ ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
source venv/bin/activate

# ะัะพะฒะตััะตะผ, ััะพ ะฟะพัั 8000 ัะฒะพะฑะพะดะตะฝ
if lsof -Pi :8000 -sTCP:LISTEN -t >/dev/null ; then
    echo "โ ะะพัั 8000 ัะถะต ะทะฐะฝัั. ะััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฟัะพัะตััั..."
    pkill -f uvicorn
    sleep 2
fi

# ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
echo "๐ก ะะฐะฟััะบ ัะตัะฒะตัะฐ ะฝะฐ http://localhost:8000"
echo "๐ ะะพะบัะผะตะฝัะฐัะธั API: http://localhost:8000/docs"
echo "๐ Health check: http://localhost:8000/api/v1/health"
echo ""
echo "ะะปั ะพััะฐะฝะพะฒะบะธ ะฝะฐะถะผะธัะต Ctrl+C"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

uvicorn main:app --host 0.0.0.0 --port 8000
