#!/bin/bash

# ะกะบัะธะฟั ะดะปั ะทะฐะฟััะบะฐ ะบะพะฝัะพะปัะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั

echo "๐ค ะะฐะฟััะบ ะบะพะฝัะพะปัะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั FAQ-ะฐััะธััะตะฝัะฐ..."

# ะะตัะตัะพะดะธะผ ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd "/Users/abaibaurzhan/Desktop/ML Generation"

# ะะบัะธะฒะธััะตะผ ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
source venv/bin/activate

# ะัะพะฒะตััะตะผ, ััะพ ัะตัะฒะตั ะทะฐะฟััะตะฝ
echo "๐ ะัะพะฒะตัะบะฐ ัะตัะฒะตัะฐ..."
if curl -s http://localhost:8000/api/v1/health > /dev/null; then
    echo "โ ะกะตัะฒะตั ะดะพัััะฟะตะฝ"
else
    echo "โ ะกะตัะฒะตั ะฝะตะดะพัััะฟะตะฝ. ะะฐะฟัััะธัะต ัะตัะฒะตั: ./start_server.sh"
    echo "   ะะปะธ ะฒ ะพัะดะตะปัะฝะพะผ ัะตัะผะธะฝะฐะปะต: cd '/Users/abaibaurzhan/Desktop/ML Generation' && source venv/bin/activate && uvicorn main:app --host 0.0.0.0 --port 8000"
    exit 1
fi

echo ""
echo "๐ฏ ะะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะณะพัะพะฒะพ ะบ ัะฐะฑะพัะต!"
echo "๐ ะะฒะตะดะธัะต 'help' ะดะปั ัะฟะธัะบะฐ ะบะพะผะฐะฝะด"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

# ะะฐะฟััะบะฐะตะผ ะบะพะฝัะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
python test_console.py
