# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
4. [–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
5. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ API](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-–≤-api)
6. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
7. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∏-–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è)
9. [–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
10. [Troubleshooting](#troubleshooting)

---

## üéØ –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ—Ç–≤–µ—á–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –∏ –º–æ–∂–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∏ –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

```
utils/
‚îú‚îÄ‚îÄ greetings.py          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ greetings_config.py   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îî‚îÄ‚îÄ __init__.py

routers/
‚îî‚îÄ‚îÄ ask.py               # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ API
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
2. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–∏–¥—É
3. **–î–µ—Ç–µ–∫—Ü–∏—è** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
4. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ** - –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ –æ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª: `utils/greetings_config.py`

#### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:

```python
STANDARD_GREETING_RESPONSE = (
    "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ. "
    "–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å. –ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–ü–ê–†–£ ?"
)
```

#### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π:

```python
GREETING_PATTERNS = [
    # –§–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ",
    "–∑–¥—Ä–∞–≤–∏—è –∂–µ–ª–∞—é",
    "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å",
    "–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ",
    "–¥–æ–±—Ä—ã–π –≤–µ—á–µ—Ä",
    "–¥–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫",
    "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤–∞—Å",
    "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é",

    # –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–ø—Ä–∏–≤–µ—Ç",
    "–ø—Ä–∏–≤–µ—Ç–∏–∫",
    "—Ö–∞–π",
    "—Ö–µ–ª–ª–æ",
    "—Ö–µ–π",
    "–∑–¥—Ä–∞—Å—å—Ç–µ",
    "–∑–¥–∞—Ä–æ–≤–∞",
    "–¥–æ–±—Ä–µ–Ω—å–∫–∏",

    # –í–æ–ø—Ä–æ—Å—ã-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–∫–∞–∫ –¥–µ–ª–∞",
    "–∫–∞–∫ –ø–æ–∂–∏–≤–∞–µ—Ç–µ",
    "–≤—Å–µ —Ö–æ—Ä–æ—à–æ",
    "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ",
    "–∫–∞–∫ –∂–∏–∑–Ω—å",

    # –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
    "—Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å",
    "–±–ª–∞–≥–æ–¥–∞—Ä—é",
    "—Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ",
    "—Å–ø–∞—Å–∏–±–æ",
]
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

```python
PARTIAL_GREETING_PATTERNS = [
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
    "—Ä–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å",
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
]

# –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
ENGLISH_GREETINGS = [
    "hello", "hi", "good morning", "good afternoon",
    "good evening", "hey"
]

# –ö–∞–∑–∞—Ö—Å–∫–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
KAZAKH_GREETINGS = [
    "—Å”ô–ª–µ–º", "“õ–∞–π—ã—Ä–ª—ã –∫“Ø–Ω", "“õ–∞–π—ã—Ä–ª—ã —Ç–∞“£", "“õ–∞–π—ã—Ä–ª—ã –∫–µ—à"
]
```

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. `normalize_text(text: str) -> str`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–∏–¥—É –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

**–õ–æ–≥–∏–∫–∞:**

- –ü—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- –£–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
- –£–¥–∞–ª—è–µ—Ç –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
normalize_text("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!") ‚Üí "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ"
normalize_text("  –î–æ–±—Ä—ã–π –¥–µ–Ω—å  ") ‚Üí "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å"
normalize_text("–ü—Ä–∏–≤–µ—Ç???") ‚Üí "–ø—Ä–∏–≤–µ—Ç"
```

### 2. `is_greeting(message: str) -> Tuple[bool, Optional[str]]`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `bool` - True –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, False –∏–Ω–∞—á–µ
- `Optional[str]` - –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

**–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–¢–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:** –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—É
2. **–ß–∞—Å—Ç–∏—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:** —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ–≤–∞:** –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –Ω–∞—á–∞–ª–æ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
is_greeting("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ") ‚Üí (True, "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ")
is_greeting("–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –∫–∞–∫ –¥–µ–ª–∞?") ‚Üí (True, "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å")
is_greeting("–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?") ‚Üí (False, None)
```

### 3. `extract_main_content(message: str) -> str`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–≤–ª–µ–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, —É–±–∏—Ä–∞—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.

**–õ–æ–≥–∏–∫–∞:**

- –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
- –ï—Å–ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + —Ç–µ–∫—Å—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –±–µ–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
- –£–±–∏—Ä–∞–µ—Ç –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
extract_main_content("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ") ‚Üí ""
extract_main_content("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∫–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?") ‚Üí "–∫–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?"
extract_main_content("–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø–æ–µ–∑–¥–∫–∞?") ‚Üí "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø–æ–µ–∑–¥–∫–∞?"
```

### 4. `get_greeting_response() -> str`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫–∞ —Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### 5. `process_greeting_message(message: str) -> Tuple[bool, Optional[str], Optional[str]]`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

- `bool` - True –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, False –µ—Å–ª–∏ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `Optional[str]` - –æ—Ç–≤–µ—Ç —Å–∏—Å—Ç–µ–º—ã (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –∏–ª–∏ None)
- `Optional[str]` - –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–≤–æ–ø—Ä–æ—Å –±–µ–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏–ª–∏ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)

**–õ–æ–≥–∏–∫–∞:**

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º
2. –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
3. –ï—Å–ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
4. –ï—Å–ª–∏ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
# –¢–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
process_greeting_message("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ") ‚Üí
(True, "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ...", None)

# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å
process_greeting_message("–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –∫–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?") ‚Üí
(True, None, "–∫–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?")

# –û–±—ã—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å
process_greeting_message("–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?") ‚Üí
(False, None, "–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?")
```

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ API

### –§–∞–π–ª: `routers/ask.py`

#### –ò–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏:

```python
from utils.greetings import process_greeting_message
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ endpoint `/api/v1/ask`:

```python
@router.post("/ask", response_model=AskResponse)
async def ask_question(request: AskRequest) -> AskResponse:
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    is_greeting_flag, greeting_response, main_content = process_greeting_message(
        request.query
    )

    # –ï—Å–ª–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
    if is_greeting_flag and greeting_response:
        logger.info(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: {request.query[:50]}...")
        return AskResponse(
            reply=greeting_response,
            confidence=1.0,
            source="greeting",
            similar_questions=[],
        )

    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ FAQ
    search_query = main_content if main_content else request.query

    # –û—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –≤ FAQ...
```

#### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º** - –¥–æ –ø–æ–∏—Å–∫–∞ –≤ FAQ
2. **–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç —Å `confidence=1.0` –∏ `source="greeting"`
3. **–ï—Å–ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –ø–æ–∏—Å–∫ FAQ
4. **–ï—Å–ª–∏ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –ø–æ–∏—Å–∫ FAQ –∫–∞–∫ –µ—Å—Ç—å

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –¢–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

**–ó–∞–ø—Ä–æ—Å:**

```bash
curl -X POST "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ"}'
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "reply": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ. –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å. –ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–ü–ê–†–£ ?",
  "confidence": 1.0,
  "source": "greeting",
  "similar_questions": []
}
```

### 2. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å

**–ó–∞–ø—Ä–æ—Å:**

```bash
curl -X POST "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –∫–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–ü–ê–†–£?"}'
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "reply": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ. 1) –ù–∏–∑–∫–∞—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è, –∞ –Ω–µ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–¥–∏—Ç–µ–ª—è...",
  "confidence": 0.929,
  "source": "q001",
  "similar_questions": []
}
```

### 3. –û–±—ã—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å (–±–µ–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è)

**–ó–∞–ø—Ä–æ—Å:**

```bash
curl -X POST "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–ö–∞–∫ –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏?"}'
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "reply": "–£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–∞—à –≤–æ–ø—Ä–æ—Å. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∏–º–µ–ª–∏ –≤ –≤–∏–¥—É:",
  "confidence": 0.757,
  "source": null,
  "similar_questions": [
    "–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ç–∞–∫—Å–∏ —Å –¥–æ–∫—É–º–µ–Ω–∞–º–∏, —Ä–∞–∑–≤–æ–∑–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
    "–ë–∞–≥–∞–∂ –≤ —Ç–∞–∫—Å–∏",
    "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤"
  ]
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl:

```bash
#!/bin/bash

echo "=== –¢–ï–°–¢ 1: –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ==="
curl -s "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ"}' | jq .

echo -e "\n=== –¢–ï–°–¢ 2: –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ ==="
curl -s "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–ü—Ä–∏–≤–µ—Ç"}' | jq .

echo -e "\n=== –¢–ï–°–¢ 3: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –≤–æ–ø—Ä–æ—Å–æ–º ==="
curl -s "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –∫–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–ü–ê–†–£?"}' | jq .

echo -e "\n=== –¢–ï–°–¢ 4: –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å ==="
curl -s "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–°–ø–∞—Å–∏–±–æ"}' | jq .
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
cd "/Users/abaibaurzhan/Desktop/ML Generation/test_console"
source ../venv/bin/activate
python main.py
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```
ask –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ
ask –î–æ–±—Ä—ã–π –¥–µ–Ω—å
ask –ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?
ask –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å
exit
```

### Unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):

```python
import pytest
from utils.greetings import (
    normalize_text, is_greeting, extract_main_content,
    process_greeting_message
)

def test_normalize_text():
    assert normalize_text("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!") == "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ"
    assert normalize_text("  –î–æ–±—Ä—ã–π –¥–µ–Ω—å  ") == "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å"

def test_is_greeting():
    assert is_greeting("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ") == (True, "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ")
    assert is_greeting("–ö–∞–∫ –¥–µ–ª–∞?") == (True, "–∫–∞–∫ –¥–µ–ª–∞")
    assert is_greeting("–û–±—ã—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å") == (False, None)

def test_extract_main_content():
    assert extract_main_content("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ") == ""
    assert extract_main_content("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –≤–æ–ø—Ä–æ—Å") == "–≤–æ–ø—Ä–æ—Å"

def test_process_greeting_message():
    # –¢–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    flag, response, content = process_greeting_message("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ")
    assert flag is True
    assert response is not None
    assert content is None

    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å
    flag, response, content = process_greeting_message("–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?")
    assert flag is True
    assert response is None
    assert content == "–∫–∞–∫ –¥–µ–ª–∞?"
```

---

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

**–§–∞–π–ª:** `utils/greetings_config.py`

```python
STANDARD_GREETING_RESPONSE = (
    "–ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º. "
    "–ó–∞–¥–∞–π—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å."
)
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π

```python
GREETING_PATTERNS = [
    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã...
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
    "—Ä–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å",
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —á–∞—Ç",
    # –í–∞—à–∏ –Ω–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    "—Ö–µ–π",
    "–ø—Ä–∏–≤–µ—Ç–∏–∫–∏",
    "–¥–æ–±—Ä–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è",
]
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤

```python
# –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
ENGLISH_GREETINGS = [
    "hello", "hi", "good morning", "good afternoon",
    "good evening", "hey", "what's up"
]

# –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏
GREETING_PATTERNS.extend(ENGLISH_GREETINGS)
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–§–∞–π–ª:** `utils/greetings.py`

```python
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger = logging.getLogger(__name__)
logger.setLevel(logging.DEBUG)  # –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

# –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logger.setLevel(logging.WARNING)
```

---

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—à–∞–≥–æ–≤–æ:

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `utils/greetings_config.py`

```python
"""–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–æ–¥—É–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π."""

# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
STANDARD_GREETING_RESPONSE = (
    "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ. "
    "–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å. –ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ê–ü–ê–†–£ ?"
)

# –°–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
GREETING_PATTERNS = [
    # –§–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ",
    "–∑–¥—Ä–∞–≤–∏—è –∂–µ–ª–∞—é",
    "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å",
    "–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ",
    "–¥–æ–±—Ä—ã–π –≤–µ—á–µ—Ä",
    "–¥–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫",
    "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –≤–∞—Å",
    "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é",
    # –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–ø—Ä–∏–≤–µ—Ç",
    "–ø—Ä–∏–≤–µ—Ç–∏–∫",
    "—Ö–∞–π",
    "—Ö–µ–ª–ª–æ",
    "—Ö–µ–π",
    "–∑–¥—Ä–∞—Å—å—Ç–µ",
    "–∑–¥–∞—Ä–æ–≤–∞",
    "–¥–æ–±—Ä–µ–Ω—å–∫–∏",
    # –í–æ–ø—Ä–æ—Å—ã-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    "–∫–∞–∫ –¥–µ–ª–∞",
    "–∫–∞–∫ –ø–æ–∂–∏–≤–∞–µ—Ç–µ",
    "–≤—Å–µ —Ö–æ—Ä–æ—à–æ",
    "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ",
    "–∫–∞–∫ –∂–∏–∑–Ω—å",
    # –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
    "—Å–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å",
    "–±–ª–∞–≥–æ–¥–∞—Ä—é",
    "—Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ",
    "—Å–ø–∞—Å–∏–±–æ",
]

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
PARTIAL_GREETING_PATTERNS = [
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
    "—Ä–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å",
    "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
]
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `utils/greetings.py`

```python
"""–ú–æ–¥—É–ª—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –≤ FAQ-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–µ."""

import logging
import re
from typing import Optional, Tuple

from .greetings_config import (
    GREETING_PATTERNS,
    PARTIAL_GREETING_PATTERNS,
    STANDARD_GREETING_RESPONSE,
)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logger = logging.getLogger(__name__)


def normalize_text(text: str) -> str:
    """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π."""
    if not text:
        return ""

    # –ü—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
    normalized = text.lower().strip()

    # –£–±–∏—Ä–∞–µ–º –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ
    normalized = re.sub(r"[.!?]+$", "", normalized)

    return normalized


def is_greeting(message: str) -> Tuple[bool, Optional[str]]:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º."""
    if not message or not isinstance(message, str):
        return False, None

    normalized_message = normalize_text(message)

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏
    for pattern in GREETING_PATTERNS:
        if normalized_message == pattern:
            logger.debug(f"–ù–∞–π–¥–µ–Ω–æ —Ç–æ—á–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: '{pattern}'")
            return True, pattern

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    for pattern in PARTIAL_GREETING_PATTERNS:
        if normalized_message.startswith(pattern):
            logger.debug(f"–ù–∞–π–¥–µ–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: '{pattern}'")
            return True, pattern

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    words = normalized_message.split()
    if words:
        first_word = words[0]
        for pattern in GREETING_PATTERNS:
            if first_word == pattern.split()[0]:
                logger.debug(f"–ù–∞–π–¥–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –Ω–∞—á–∞–ª–µ: '{first_word}'")
                return True, pattern

    return False, None


def extract_main_content(message: str) -> str:
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —É–±–∏—Ä–∞—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ."""
    if not message or not isinstance(message, str):
        return ""

    normalized_message = normalize_text(message)
    is_greeting_flag, greeting_pattern = is_greeting(message)

    if not is_greeting_flag:
        return message.strip()

    # –£–±–∏—Ä–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–∑ –Ω–∞—á–∞–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
    if greeting_pattern:
        # –£–±–∏—Ä–∞–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        if normalized_message == greeting_pattern:
            return ""

        # –£–±–∏—Ä–∞–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ
        if normalized_message.startswith(greeting_pattern):
            remaining = normalized_message[len(greeting_pattern):].strip()
            # –£–±–∏—Ä–∞–µ–º –∑–∞–ø—è—Ç—ã–µ –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
            remaining = re.sub(r"^[,.\-:;]+", "", remaining).strip()
            return remaining

    # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –ø—Ä–æ–±—É–µ–º —É–±—Ä–∞—Ç—å –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ
    words = normalized_message.split()
    if len(words) > 1:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º
        first_word = words[0]
        for pattern in GREETING_PATTERNS:
            if first_word == pattern.split()[0]:
                remaining_words = words[1:]
                remaining_text = " ".join(remaining_words)
                # –£–±–∏—Ä–∞–µ–º –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
                remaining_text = re.sub(r"^[,.\-:;]+", "", remaining_text).strip()
                return remaining_text

    return ""


def get_greeting_response() -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ."""
    return STANDARD_GREETING_RESPONSE


def process_greeting_message(message: str) -> Tuple[bool, Optional[str], Optional[str]]:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è."""
    is_greeting_flag, greeting_pattern = is_greeting(message)

    if not is_greeting_flag:
        return False, None, message

    # –ï—Å–ª–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    main_content = extract_main_content(message)
    if not main_content:
        logger.info(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: '{greeting_pattern}'")
        return True, get_greeting_response(), None

    # –ï—Å–ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å
    logger.info(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –≤–æ–ø—Ä–æ—Å–æ–º: '{greeting_pattern}' + '{main_content}'")
    return True, None, main_content
```

#### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ API

**–í —Ñ–∞–π–ª–µ:** `routers/ask.py`

**–î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç:**

```python
from utils.greetings import process_greeting_message
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `ask_question`:**

```python
@router.post("/ask", response_model=AskResponse)
async def ask_question(request: AskRequest) -> AskResponse:
    try:
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
        is_greeting_flag, greeting_response, main_content = process_greeting_message(
            request.query
        )

        # –ï—Å–ª–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
        if is_greeting_flag and greeting_response:
            logger.info(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: {request.query[:50]}...")
            return AskResponse(
                reply=greeting_response,
                confidence=1.0,
                source="greeting",
                similar_questions=[],
            )

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ FAQ
        search_query = main_content if main_content else request.query

        # –û—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –≤ FAQ...
        if not search_engine._is_initialized:
            await search_engine.initialize()

        result = await search_engine.find_best_answer(search_query)

        return AskResponse(
            reply=result["reply"],
            confidence=result["confidence"],
            source=result.get("source"),
            similar_questions=result.get("similar_questions", []),
        )

    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"
        )
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:**

```bash
cd "/Users/abaibaurzhan/Desktop/ML Generation"
pkill -f uvicorn
source venv/bin/activate
uvicorn main:app --host 0.0.0.0 --port 8000 &
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
curl -s "http://localhost:8000/api/v1/ask" \
  -H "Content-Type: application/json" \
  -d '{"query": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ"}' | jq .
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**

- –°–æ–æ–±—â–µ–Ω–∏—è "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ" –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–∏—Å–∫ –ø–æ FAQ –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

**–†–µ—à–µ–Ω–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ `routers/ask.py`:

   ```python
   from utils.greetings import process_greeting_message
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:

   ```python
   is_greeting_flag, greeting_response, main_content = process_greeting_message(request.query)
   ```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏:
   ```python
   if is_greeting_flag and greeting_response:
       return AskResponse(...)
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤

**–°–∏–º–ø—Ç–æ–º—ã:**

- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –≤–æ–ø—Ä–æ—Å –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–∞

**–†–µ—à–µ–Ω–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `extract_main_content`
2. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
   ```python
   logger.debug(f"–ò—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {message}")
   logger.debug(f"–ò–∑–≤–ª–µ—á–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: {main_content}")
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**

- –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

**–†–µ—à–µ–Ω–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤ `greetings_config.py`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞

**–°–∏–º–ø—Ç–æ–º—ã:**

```
ImportError: cannot import name 'process_greeting_message'
```

**–†–µ—à–µ–Ω–∏—è:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:

   ```bash
   ls -la utils/greetings.py
   ls -la utils/greetings_config.py
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python:

   ```bash
   python -m py_compile utils/greetings.py
   python -m py_compile utils/greetings_config.py
   ```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `__init__.py` –≤ –ø–∞–ø–∫–µ `utils/`:
   ```python
   # utils/__init__.py –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω—É–∂–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–°–∏–º–ø—Ç–æ–º—ã:**

- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
- –ó–∞–¥–µ—Ä–∂–∫–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏—è:**

1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (—É–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)
2. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
3. –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ `is_greeting`

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
import logging

# –í main.py –∏–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

# –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
greeting_logger = logging.getLogger('greetings')
greeting_logger.setLevel(logging.DEBUG)
```

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π** - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ —Ñ—É–Ω–∫—Ü–∏—è
2. **–¢–∏–ø—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π** - –∫–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–∞—â–µ
3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤** - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏–∑–≤–ª–µ–∫–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã
4. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
def process_greeting_message(message: str) -> Tuple[bool, Optional[str], Optional[str]]:
    start_time = time.time()

    is_greeting_flag, greeting_pattern = is_greeting(message)

    if is_greeting_flag:
        logger.info(f"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: {greeting_pattern}")
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞...

    processing_time = time.time() - start_time
    logger.debug(f"–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è: {processing_time:.3f}s")

    return result
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞
- ‚úÖ **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤** –∏–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–ì–∏–±–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É** –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ **–ü–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π FAQ

–î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ FAQ-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.
